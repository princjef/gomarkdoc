<!-- Code generated by gomarkdoc. DO NOT EDIT -->

[![Go Report Card](https://goreportcard.com/badge/github.com/princjef/gomarkdoc)](https://goreportcard.com/report/github.com/princjef/gomarkdoc)

# gomarkdoc

```go
import "github.com/princjef/gomarkdoc"
```

Package gomarkdoc formats documentation for one or more packages as markdown for usage outside of the main godoc\.org site\. It supports custom templates for tweaking representation of documentation at fine\-grained levels\, exporting both exported and unexported symbols\, and custom formatters for different backends\.

### Command Line Usage

If you want to use this package as a command\-line tool\, you can install the command by running:

```
go get -u github.com/princjef/gomarkdoc/cmd/gomarkdoc
```

The command line tool supports configuration for all of the features of the importable package:

```
$ gomarkdoc --help
generate markdown documentation for golang code

Usage:
  gomarkdoc [flags] [package ...]

Flags:
  -c, --check                          Check the output to see if it matches the generated documentation. --output must be specified to use this option.
      --config string                  File from which to load configuration (default: .gomarkdoc.yml)
      --footer string                  Additional content to inject at the end of each output file.
      --footer-file string             File containing additional content to inject at the end of each output file.
      --header string                  Additional content to inject at the beginning of each output file.
      --header-file string             File containing additional content to inject at the beginning of each output file.
  -h, --help                           help for gomarkdoc
  -u, --include-unexported             Output documentation for unexported symbols, methods and fields in addition to exported ones.
  -o, --output string                  File or pattern specifying where to write documentation output. Defaults to printing to stdout.
  -t, --template stringToString        Custom template string to use for the provided template name instead of the default template. (default [])
      --template-file stringToString   Custom template file to use for the provided template name instead of the default template. (default [])
```

The gomarkdoc command processes each of the provided packages\, generating documentation for the package in markdown format and writing it to console\. For example\, if you have a package in your current directory and want to send it to a documentation markdown file\, you might do something like this:

```
gomarkdoc . > doc.md
```

### Package Specifiers

The gomarkdoc tool supports generating documentation for both local packages and remote ones\. To specify a local package\, start the name of the package with a period \(\.\) or specify an absolute path on the filesystem\. All other package signifiers are assumed to be remote packages\. You may specify both local and remote packages in the same command invocation as separate arguments\.

### Output Redirection

If you want to redirect output for each processed package to a file\, you can alternatively provide the \-\-output/\-o option\, which accepts a template specifying how to generate the path of the output file\. A common usage of this option is when generating README documentation for a package with subpackages \(which are supported via the \.\.\. signifier available in other tools\):

```
gomarkdoc --output '{{.Dir}}/README.md' ./...
```

You can see all of the data available to the output template in the PackageSpec struct in the github\.com/princjef/gomarkdoc/cmd/gomarkdoc package\.

### Template Overrides

The documentation information that is output is formatted using a series of text templates for the various components of the overall documentation which get generated\. Higher level templates contain lower level templates\, but any template may be replaced with an override template using the \-\-template/\-t option\. The full list of templates that may be overridden are:

```
- file:    generates documentation for a file containing one or more
           packages, depending on how the tool is configured. This is the
           root template for documentation generation.

- package: generates documentation for an entire package.

- type:    generates documentation for a single type declaration, as well
           as any related functions/methods.

- func:    generates documentation for a single function or method. It may
           be referenced from within a type, or directly in the package,
           depending on nesting.

- value:   generates documentation for a single variable or constant
           declaration block within a package.

- index:   generates an index of symbols within a package, similar to what
           is seen for godoc.org. The index links to types, funcs,
           variables, and constants generated by other templates, so it may
           need to be overridden as well if any of those templates are
           changed in a material way.

- example: generates documentation for a single example for a package or
           one of its symbols. The example is generated alongside whichever
           symbol it represents, based on the standard naming conventions
           outlined in https://blog.golang.org/examples#TOC_4.

- doc:     generates the freeform documentation block for any of the above
           structures that can contain a documentation section.
```

Overriding with the \-t option uses a key\-vaule pair mapping a template name to the file containing the contents of the override template to use\. Specified template files must exist:

```
gomarkdoc -t package=custom-package.gotxt -t doc=custom-doc.gotxt .
```

### Additional Options

As with the godoc tool itself\, only exported symbols will be shown in documentation\. This can be expanded to include all symbols in a package by adding the \-\-include\-unexported/\-u flag\.

```
gomarkdoc -u . > README.md
```

You can also run gomarkdoc in a verification mode with the \-\-check/\-c flag\. This is particularly useful for continuous integration when you want to make sure that a commit correctly updated the generated documentation\. This flag is only supported when the \-\-output/\-o flag is specified\, as the file provided there is what the tool is checking:

```
gomarkdoc -o README.md -c .
```

### Configuring via File

If you want to reuse configuration options across multiple invocations\, you can specify a file in the folder where you invoke gomarkdoc containing configuration information that you would otherwise provide on the command line\. This file may be a JSON\, TOML\, YAML\, HCL\, env\, or Java properties file\, but the name is expected to start with \.gomarkdoc \(e\.g\. \.gomarkdoc\.yml\)\.

All configuration options are available with the camel\-cased form of their long name \(e\.g\. \-\-include\-unexported becomes includeUnexported\)\. Template overrides are specified as a map\, rather than a set of key\-value pairs separated by =\. Options provided on the command line override those provided in the configuration file if an option is present in both\.

### Programmatic Usage

While most users will find the command line utility sufficient for their needs\, this package may also be used programmatically by installing it directly\, rather than its command subpackage\. The programmatic usage provides more flexibility when selecting what packages to work with and what components to generate documentation for\.

A common usage will look something like this:

```
package main

import (
	"go/build"
	"fmt"
	"os"

	"github.com/princjef/gomarkdoc"
	"github.com/princjef/gomarkdoc/lang"
)

func main() {
	// Create a renderer to output data
	out, err := gomarkdoc.NewRenderer()
	if err != nil {
		// handle error
	}

	wd, err := os.Getwd()
	if err != nil {
		// handle error
	}

	buildPkg, err := build.ImportDir(".", wd, build.ImportComment)
	if err != nil {
		// handle error
	}

	// Create a documentation package from the build representation of our
	// package.
	pkg, err := lang.NewPackageFromBuild(buildPkg)
	if err != nil {
		// handle error
	}

	// Write the documentation out to console.
	fmt.Println(out.Package(pkg))
}
```

## Index

- [type Formatter](<#type-formatter>)
- [type GitHubMarkdownFormatter](<#type-githubmarkdownformatter>)
  - [func (f *GitHubMarkdownFormatter) Accordion(title, body string) (string, error)](<#func-githubmarkdownformatter-accordion>)
  - [func (f *GitHubMarkdownFormatter) AccordionHeader(title string) string](<#func-githubmarkdownformatter-accordionheader>)
  - [func (f *GitHubMarkdownFormatter) AccordionTerminator() string](<#func-githubmarkdownformatter-accordionterminator>)
  - [func (f *GitHubMarkdownFormatter) Bold(text string) (string, error)](<#func-githubmarkdownformatter-bold>)
  - [func (f *GitHubMarkdownFormatter) CodeBlock(language, code string) (string, error)](<#func-githubmarkdownformatter-codeblock>)
  - [func (f *GitHubMarkdownFormatter) Header(level int, text string) (string, error)](<#func-githubmarkdownformatter-header>)
  - [func (f *GitHubMarkdownFormatter) Link(text, href string) (string, error)](<#func-githubmarkdownformatter-link>)
  - [func (f *GitHubMarkdownFormatter) ListEntry(depth int, text string) (string, error)](<#func-githubmarkdownformatter-listentry>)
  - [func (f *GitHubMarkdownFormatter) LocalHref(headerText string) (string, error)](<#func-githubmarkdownformatter-localhref>)
  - [func (f *GitHubMarkdownFormatter) Paragraph(text string) (string, error)](<#func-githubmarkdownformatter-paragraph>)
- [type Renderer](<#type-renderer>)
  - [func NewRenderer(opts ...RendererOption) (*Renderer, error)](<#func-newrenderer>)
  - [func (out *Renderer) Example(ex *lang.Example) (string, error)](<#func-renderer-example>)
  - [func (out *Renderer) File(file *lang.File) (string, error)](<#func-renderer-file>)
  - [func (out *Renderer) Func(fn *lang.Func) (string, error)](<#func-renderer-func>)
  - [func (out *Renderer) Package(pkg *lang.Package) (string, error)](<#func-renderer-package>)
  - [func (out *Renderer) Type(typ *lang.Type) (string, error)](<#func-renderer-type>)
- [type RendererOption](<#type-rendereroption>)
  - [func WithFormatter(formatter Formatter) RendererOption](<#func-withformatter>)
  - [func WithTemplateOverride(name, tmpl string) RendererOption](<#func-withtemplateoverride>)


## type Formatter

Formatter is a generic interface for formatting documentation contents in a particular way\.

```go
type Formatter interface {
    // Bold converts the provided text to bold
    Bold(text string) (string, error)

    // CodeBlock wraps the provided code as a code block and tags it with the
    // provided language (or no language if the empty string is provided).
    CodeBlock(language, code string) (string, error)

    // Header converts the provided text into a header of the provided level.
    // The level is expected to be at least 1.
    Header(level int, text string) (string, error)

    // LocalHref generates an href for navigating to a header with the given
    // headerText located within the same document as the href itself.
    LocalHref(headerText string) (string, error)

    // Link generates a link with the given text and href values.
    Link(text, href string) (string, error)

    // ListEntry generates an unordered list entry with the provided text at the
    // provided zero-indexed depth. A depth of 0 is considered the topmost level
    // of list.
    ListEntry(depth int, text string) (string, error)

    // Accordion generates a collapsible content. The accordion's visible title
    // while collapsed is the provided title and the expanded content is the
    // body.
    Accordion(title, body string) (string, error)

    // AccordionHeader generates the header visible when an accordion is
    // collapsed.
    //
    // The AccordionHeader is expected to be used in conjunction with
    // AccordionTerminator() when the demands of the body's rendering requires
    // it to be generated independently. The result looks conceptually like the
    // following:
    //
    //	accordion := formatter.AccordionHeader("Accordion Title") + "Accordion Body" + formatter.AccordionTerminator()
    AccordionHeader(title string) string

    // AccordionTerminator generates the code necessary to terminate an
    // accordion after the body. It is expected to be used in conjunction with
    // AccordionHeader(). See AccordionHeader for a full description.
    AccordionTerminator() string

    // Paragraph formats a paragraph with the provided text as the contents.
    Paragraph(text string) (string, error)
}
```

## type GitHubMarkdownFormatter

GithubMarkdownFormatter provides a Formatter which is compatible with GitHub Flavored Markdown's syntax and semantics\. See GitHub's documentation for more details about their markdown format: https://guides\.github\.com/features/mastering\-markdown/

```go
type GitHubMarkdownFormatter struct{}
```

### func \(\*GitHubMarkdownFormatter\) Accordion

```go
func (f *GitHubMarkdownFormatter) Accordion(title, body string) (string, error)
```

Accordion generates a collapsible content\. The accordion's visible title while collapsed is the provided title and the expanded content is the body\.

### func \(\*GitHubMarkdownFormatter\) AccordionHeader

```go
func (f *GitHubMarkdownFormatter) AccordionHeader(title string) string
```

AccordionHeader generates the header visible when an accordion is collapsed\.

The AccordionHeader is expected to be used in conjunction with AccordionTerminator\(\) when the demands of the body's rendering requires it to be generated independently\. The result looks conceptually like the following:

```
accordion := formatter.AccordionHeader("Accordion Title") + "Accordion Body" + formatter.AccordionTerminator()
```

### func \(\*GitHubMarkdownFormatter\) AccordionTerminator

```go
func (f *GitHubMarkdownFormatter) AccordionTerminator() string
```

AccordionTerminator generates the code necessary to terminate an accordion after the body\. It is expected to be used in conjunction with AccordionHeader\(\)\. See AccordionHeader for a full description\.

### func \(\*GitHubMarkdownFormatter\) Bold

```go
func (f *GitHubMarkdownFormatter) Bold(text string) (string, error)
```

Bold converts the provided text to bold

### func \(\*GitHubMarkdownFormatter\) CodeBlock

```go
func (f *GitHubMarkdownFormatter) CodeBlock(language, code string) (string, error)
```

CodeBlock wraps the provided code as a code block and tags it with the provided language \(or no language if the empty string is provided\)\.

### func \(\*GitHubMarkdownFormatter\) Header

```go
func (f *GitHubMarkdownFormatter) Header(level int, text string) (string, error)
```

Header converts the provided text into a header of the provided level\. The level is expected to be at least 1\.

### func \(\*GitHubMarkdownFormatter\) Link

```go
func (f *GitHubMarkdownFormatter) Link(text, href string) (string, error)
```

Link generates a link with the given text and href values\.

### func \(\*GitHubMarkdownFormatter\) ListEntry

```go
func (f *GitHubMarkdownFormatter) ListEntry(depth int, text string) (string, error)
```

ListEntry generates an unordered list entry with the provided text at the provided zero\-indexed depth\. A depth of 0 is considered the topmost level of list\.

### func \(\*GitHubMarkdownFormatter\) LocalHref

```go
func (f *GitHubMarkdownFormatter) LocalHref(headerText string) (string, error)
```

LocalHref generates an href for navigating to a header with the given headerText located within the same document as the href itself\.

### func \(\*GitHubMarkdownFormatter\) Paragraph

```go
func (f *GitHubMarkdownFormatter) Paragraph(text string) (string, error)
```

Paragraph formats a paragraph with the provided text as the contents\.

## type Renderer

Renderer provides capabilities for rendering various types of documentation with the configured formatter and templates\.

```go
type Renderer struct {
    // contains filtered or unexported fields
}
```

### func NewRenderer

```go
func NewRenderer(opts ...RendererOption) (*Renderer, error)
```

NewRenderer initializes a Renderer configured using the provided options\. If nothing special is provided\, the created renderer will use the default set of templates and the GitHubMarkdownFormatter\.

### func \(\*Renderer\) Example

```go
func (out *Renderer) Example(ex *lang.Example) (string, error)
```

Example renders an example's documentation to a string\. You can change the rendering of the example by overriding the "example" template or one of the templates it references\.

### func \(\*Renderer\) File

```go
func (out *Renderer) File(file *lang.File) (string, error)
```

File renders a file containing one or more packages to document to a string\. You can change the rendering of the file by overriding the "file" template or one of the templates it references\.

### func \(\*Renderer\) Func

```go
func (out *Renderer) Func(fn *lang.Func) (string, error)
```

Func renders a function's documentation to a string\. You can change the rendering of the package by overriding the "func" template or one of the templates it references\.

### func \(\*Renderer\) Package

```go
func (out *Renderer) Package(pkg *lang.Package) (string, error)
```

Package renders a package's documentation to a string\. You can change the rendering of the package by overriding the "package" template or one of the templates it references\.

### func \(\*Renderer\) Type

```go
func (out *Renderer) Type(typ *lang.Type) (string, error)
```

Type renders a type's documentation to a string\. You can change the rendering of the type by overriding the "type" template or one of the templates it references\.

## type RendererOption

RendererOption configures the renderer's behavior\.

```go
type RendererOption func(renderer *Renderer) error
```

### func WithFormatter

```go
func WithFormatter(formatter Formatter) RendererOption
```

WithFormatter changes the renderer to use the formatter provided instead of the default formatter\.

### func WithTemplateOverride

```go
func WithTemplateOverride(name, tmpl string) RendererOption
```

WithTemplateOverride adds a template that overrides the template with the provided name using the value provided in the tmpl parameter\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)